// Generated by CoffeeScript 1.6.2
(function() {
  $(function() {
    var socket;

    socket = io.connect("http://localhost/weiqi/weiqi|1");
    socket.emit('auth', 'test cookie', function(res) {
      console.log('auth: ' + JSON.stringify(res));
      return socket.emit('move', {
        pos: [3, 3],
        player: 'black'
      }, function(res) {
        console.log('move: ' + JSON.stringify(res));
        socket.emit('discuss', 'xxx', function(res) {});
        socket.emit('taking_seat', 'white', function(res) {
          return console.log('taking_seat: ' + JSON.stringify(res));
        });
        return socket.emit('move', {
          pos: [3, 15],
          player: 'white'
        }, function(res) {
          return console.log('move: ' + JSON.stringify(res));
        });
      });
    });
    socket.on('attend', function(res) {
      return console.log('attend: ' + JSON.stringify(res));
    });
    socket.on('quit', function(res) {
      return console.log('quit: ' + JSON.stringify(res));
    });
    socket.on('start', function(res) {
      console.log('start: ' + JSON.stringify(res));
      return socket.emit('move', {
        pos: [3, 3],
        player: 'black'
      }, function(res) {
        return console.log('move: ' + JSON.stringify(res));
      });
    });
    return socket.on('move', function(res) {
      var _ref;

      console.log('move: ' + JSON.stringify(res));
      if ((_ref = this.x) == null) {
        this.x = 18;
      }
      return socket.emit('move', {
        pos: [this.x--, 3],
        player: 'white'
      }, function(res) {
        return console.log('move: ' + JSON.stringify(res));
      });
    });
  });

}).call(this);
